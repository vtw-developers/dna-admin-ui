<dx-popup
  [width]="'27vw'"
  [height]="isCreateMode() ? 480 : 430"
  [showTitle]="true"
  [title]="isCreateMode() ? '사용자 등록' : '사용자 정보 변경'"
  [dragEnabled]="true"
  [hideOnOutsideClick]="true"
  [showCloseButton]="true"
  container=".dx-viewport"
  [(visible)]="popupVisible"
  [enableBodyScroll]="false"
>
  <div *dxTemplate="let data of 'content'">
    <dx-validation-group>
      <form class="flex flex-col" (submit)="save($event)">
        <div [style.height]="isCreateMode() ? '370px' : '320px'">
          <div class="dx-field" *ngIf="isCreateMode()">
            <div class="dx-field-label">ID</div>
            <dx-text-box class="dx-field-value" [(value)]="users.userId">
              <dx-validator>
                <dxi-validation-rule type="required" message="ID를 입력하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <div class="dx-field">
            <div class="dx-field-label">비밀번호</div>
            <dx-text-box class="dx-field-value" [(value)]="users.password" mode="password">
              <dx-validator *ngIf="isCreateMode()">
                <dxi-validation-rule type="required" message="비밀번호를 입력하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <div class="dx-field">
            <div class="dx-field-label">비밀번호 확인</div>
            <dx-text-box class="dx-field-value" [(value)]="confirmedPassword" mode="password">
              <dx-validator *ngIf="isCreateMode()">
                <dxi-validation-rule type="required" message="비밀번호를 확인하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <div class="dx-field">
            <div class="dx-field-label">사용자명</div>
            <dx-text-box class="dx-field-value" [(value)]="users.name">
              <dx-validator>
                <dxi-validation-rule type="required" message="사용자명을 입력하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <div class="dx-field">
            <div class="dx-field-label">소속</div>
            <dx-text-box class="dx-field-value" [(value)]="users.division">
              <dx-validator>
                <dxi-validation-rule type="required" message="소속을 입력하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <div class="dx-field">
            <div class="dx-field-label">연락처</div>
            <dx-text-box class="dx-field-value" [(value)]="users.phone">
              <dx-validator>
                <dxi-validation-rule type="required" message="연락처를 입력하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <div class="dx-field">
            <div class="dx-field-label">이메일</div>
            <dx-text-box class="dx-field-value" [(value)]="users.mail">
              <dx-validator>
                <dxi-validation-rule type="required" message="이메일을 입력하세요."></dxi-validation-rule>
              </dx-validator>
            </dx-text-box>
          </div>
          <dx-validation-summary class="mt-2"></dx-validation-summary>
        </div>

        <div class="popup-buttons">
          <dx-button
            [text]="isCreateMode() ? '생성' : '변경'"
            [width]="100"
            [useSubmitBehavior]="true"
          >
          </dx-button>
          <dx-button
            [text]="'취소'"
            [width]="100"
            (onClick)="close()"
          >
          </dx-button>
        </div>
      </form>
    </dx-validation-group>
  </div>

</dx-popup>
